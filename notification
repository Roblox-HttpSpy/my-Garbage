local function SendNotifi(text, durationOrButton, soundId)
    local gui = Instance.new("ScreenGui", game:GetService("CoreGui"))
    gui.DisplayOrder = 999 -- Ensures it's always on top
    local frame = Instance.new("Frame", gui)
    local textLabel = Instance.new("TextLabel", frame)
    local uiCorner = Instance.new("UICorner", frame)
    local sound = Instance.new("Sound", gui)

    sound.SoundId = soundId

    frame.Size = UDim2.new(0, 0, 0, 0)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.AnchorPoint = Vector2.new(0.5, 0.5)
    frame.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
    frame.BackgroundTransparency = 0.3
    frame.BorderSizePixel = 0
    frame.ClipsDescendants = true

    uiCorner.CornerRadius = UDim.new(0, 12)

    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.Position = UDim2.new(0, 0, 0, 0)
    textLabel.Text = text
    textLabel.TextColor3 = Color3.new(1, 1, 1)
    textLabel.BackgroundTransparency = 1
    textLabel.Font = Enum.Font.SourceSans
    textLabel.TextSize = 24
    textLabel.TextWrapped = true

    local function createButton(text, callback)
        local button = Instance.new("TextButton", frame)
        button.Size = UDim2.new(0.4, 0, 0.2, 0)
        button.Position = UDim2.new(0.3, 0, 0.7, 0)
        button.Text = text
        button.TextColor3 = Color3.new(1, 1, 1)
        button.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
        button.BackgroundTransparency = 0.5
        button.Font = Enum.Font.SourceSansBold
        button.TextSize = 18
        local buttonCorner = Instance.new("UICorner", button)
        buttonCorner.CornerRadius = UDim.new(0, 8)
        button.MouseButton1Click:Connect(function()
            if callback then callback() end
            frame:TweenSize(UDim2.new(0, 0, 0, 0), Enum.EasingDirection.In, Enum.EasingStyle.Back, 0.5, true, function()
                gui:Destroy()
            end)
        end)
    end

    frame:TweenSize(UDim2.new(0, 400, 0, 100), Enum.EasingDirection.Out, Enum.EasingStyle.Back, 0.5, true, function()
        sound:Play()

        if type(durationOrButton) == "number" then
            -- Normal Notification (with duration)
            wait(durationOrButton)
            frame:TweenSize(UDim2.new(0, 0, 0, 0), Enum.EasingDirection.In, Enum.EasingStyle.Back, 0.5, true, function()
                gui:Destroy()
            end)
        elseif type(durationOrButton) == "string" then
            -- OK Button Notification
            createButton(durationOrButton)
        elseif type(durationOrButton) == "function" then
            -- Yes/No Button Notification
            local yesButton = Instance.new("TextButton", frame)
            yesButton.Size = UDim2.new(0.3, 0, 0.2, 0)
            yesButton.Position = UDim2.new(0.1, 0, 0.7, 0)
            yesButton.Text = "YES"
            yesButton.TextColor3 = Color3.new(1, 1, 1)
            yesButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
            yesButton.BackgroundTransparency = 0.5
            yesButton.Font = Enum.Font.SourceSansBold
            yesButton.TextSize = 18
            local yesCorner = Instance.new("UICorner", yesButton)
            yesCorner.CornerRadius = UDim.new(0, 8)
            yesButton.MouseButton1Click:Connect(function()
                durationOrButton()
                frame:TweenSize(UDim2.new(0, 0, 0, 0), Enum.EasingDirection.In, Enum.EasingStyle.Back, 0.5, true, function()
                    gui:Destroy()
                end)
            end)

            local noButton = Instance.new("TextButton", frame)
            noButton.Size = UDim2.new(0.3, 0, 0.2, 0)
            noButton.Position = UDim2.new(0.6, 0, 0.7, 0)
            noButton.Text = "NO"
            noButton.TextColor3 = Color3.new(1, 1, 1)
            noButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
            noButton.BackgroundTransparency = 0.5
            noButton.Font = Enum.Font.SourceSansBold
            noButton.TextSize = 18
            local noCorner = Instance.new("UICorner", noButton)
            noCorner.CornerRadius = UDim.new(0, 8)
            noButton.MouseButton1Click:Connect(function()
                frame:TweenSize(UDim2.new(0, 0, 0, 0), Enum.EasingDirection.In, Enum.EasingStyle.Back, 0.5, true, function()
                    gui:Destroy()
                end)
            end)
        end
    end)
end

-- Example usage:
-- Normal Notification
-- SendNotifi("Hello!", 5, "rbxassetid://145487017")

-- OK Button Notification
-- SendNotifi("Do you agree?", "OK", "rbxassetid://145487017")

-- Yes/No Button Notification
-- SendNotifi("Do you want to proceed?", function()
--     print("Yes button clicked!")
-- end, "rbxassetid://145487017")